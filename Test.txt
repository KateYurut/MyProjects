#include <stdio.h>
#include <string.h>
#include <dirent.h>
#include <sys/types.h>
#include <regex.h>
#include <stdlib.h>
#include <sys/stat.h>
#include <time.h>
#define N 20

int main(){
int CountOfDirr;
int CountOfText;
int number;
char RandomWord[100];
char path[1000] = "Root";
char NewPath[1000];
CountOfDirr = rand()%10;
CountOfText = rand()%3;
srand(time(NULL));

for(int i = 0; i < CountOfDirr; i++){
	mkdir(path, S_IRWXU);
	for(int j = 0; j < CountOfText; j++){
		number = rand()%1000;
		for(int k = 0; k < 1000; k++){
			NewPath[k] = path[k];
		}
		char Snumber [5];
		strcat(NewPath, "/text");
		sprintf(Snumber, "%d", number);
		strcat(NewPath, Snumber);
		strcat(NewPath, ".txt");
		FILE* file = fopen(NewPath, "w");
		fprintf(file, "%d ", number);
	
		for (i = 0; i < N - 1; i++)
      			RandomWord[i] = 'a' + rand()%26;
   		RandomWord[i] = '\0';
	
		fprintf(file, "%s", RandomWord);
		fclose(file);
	}
	for(int m = 0; m < strlen(NewPath); m++){
		NewPath[m] = '\0';
	}	
	strcat(path, "/Root");
	sprintf(path, "%d", i);
}
	
	
	
//mkdir("Root", S_IRWXU);
//FILE* file = fopen("Root/result.txt", "w");
//fprintf(file, "%s", string);
//fclose(file);


//printf("%d\n%d\n", CountOfIter, number);
	
return 0;


}
